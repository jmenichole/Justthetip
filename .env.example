# ===================================
# JUSTTHETIP BOT - ENVIRONMENT VARIABLES
# Professional Solana Smart Contract Discord Bot
# ===================================

# ==========================================
# DISCORD CONFIGURATION (Required)
# ==========================================

# Discord bot token from Discord Developer Portal
# How to get: https://discord.com/developers/applications
#   1. Go to https://discord.com/developers/applications
#   2. Select your application (or create a new one)
#   3. Navigate to: Bot > Token
#   4. Click "Reset Token" or "Copy" to get your token
#   5. Paste the token below (keep it secure and never commit it to version control!)
DISCORD_BOT_TOKEN=YOUR_DISCORD_BOT_TOKEN_HERE

# Discord application client ID
# Found in: Your Application > OAuth2 > Client ID
#   1. In the same Discord Developer Portal
#   2. Navigate to: OAuth2 > General
#   3. Copy the "Client ID" (18-19 digit number)
DISCORD_CLIENT_ID=YOUR_DISCORD_CLIENT_ID_HERE

# Discord OAuth client secret (required for API server OAuth flow)
# Found in: Your Application > OAuth2 > Client Secret
DISCORD_CLIENT_SECRET=YOUR_DISCORD_CLIENT_SECRET_HERE

# Discord OAuth redirect URI (optional - only needed for API server OAuth flow)
# Must match the redirect URI registered in Discord Developer Portal
# Defaults to: https://jmenichole.github.io/Justthetip/landing.html if not set
# Can be set directly in environment without adding to .env file
# DISCORD_REDIRECT_URI=https://jmenichole.github.io/Justthetip/landing.html

# Discord guild/server ID for testing (optional in production)
# Enable Developer Mode in Discord, right-click your server, and click "Copy ID"
# Can be set directly in environment without adding to .env file
# GUILD_ID=YOUR_DISCORD_GUILD_ID_HERE

# ==========================================
# API SERVER CONFIGURATION (IMPORTANT!)
# ==========================================

# Frontend URL for wallet registration page (REQUIRED for /register-wallet command)
# This is where users are redirected to connect their Solana wallet
# 
# **CRITICAL:** If this is not set correctly in production, users will get 404 errors
# when trying to register their wallets via the /register-wallet command.
#
# For local development: http://localhost:3000
# For production: https://jmenichole.github.io/Justthetip (GitHub Pages)
#
# Default: https://jmenichole.github.io/Justthetip (if not set)
# Only change this if you're hosting the frontend elsewhere
FRONTEND_URL=https://jmenichole.github.io/Justthetip

# Base URL for the API server (DEPRECATED - kept for backward compatibility)
# The API backend is automatically configured in sign.html
# API calls go to Vercel: https://justthetip.vercel.app
# 
# Only set this if you need to override the default API endpoint
# API_BASE_URL=https://justthetip.vercel.app

# ==========================================
# WALLETCONNECT / REOWN (Required for Mobile Wallets)
# ==========================================

# WalletConnect Project ID for universal wallet connection support
# This enables mobile wallet connections via QR codes and deep links
# 
# **CRITICAL:** Without this, users will see raw WalletConnect URIs (wc:...)
# instead of being able to connect their wallets properly!
#
# How to get a Project ID:
#   1. Go to https://cloud.reown.com/ (formerly WalletConnect Cloud)
#   2. Sign up for a free account
#   3. Create a new project
#   4. Copy the "Project ID" from your project dashboard
#   5. Paste it below
#
# The Project ID is public and safe to expose to frontend clients
# No payment required - free tier supports up to 1M monthly requests
#
# Example: WALLETCONNECT_PROJECT_ID=a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6
WALLETCONNECT_PROJECT_ID=

# ==========================================
# SOLANA BLOCKCHAIN (Required)
# ==========================================

# Flat transaction fee (in SOL)
# Range: 0.02 to 0.07 SOL
# Default: 0.03 SOL
# This flat fee is deducted from each transaction and sent to the dev wallet
# Example: For a 1 SOL tip with 0.03 SOL fee, recipient gets 0.97 SOL, dev gets 0.03 SOL
# Note: Users can optionally tip the dev to help keep fees low
TRANSACTION_FEE_AMOUNT=0.03

# Helius API key for optimized Solana RPC access (optional)
# Get free key at: https://helius.dev
# Provides better performance and rate limits than public RPC
# Can be set directly in environment without adding to .env file
# HELIUS_API_KEY=your_helius_api_key_here

# Solana RPC endpoint URL (required for smart contract bot)
# For mainnet with Helius: https://mainnet.helius-rpc.com/?api-key=YOUR_HELIUS_API_KEY
# For devnet (testing): https://api.devnet.solana.com
# For testnet: https://api.testnet.solana.com
# For public mainnet: https://api.mainnet-beta.solana.com
SOLANA_RPC_URL=https://api.devnet.solana.com

# SOL_RPC_URL is an alias for SOLANA_RPC_URL (optional - for backward compatibility)
# Can be set directly in environment without adding to .env file
# SOL_RPC_URL=https://api.devnet.solana.com

# Your deployed Solana program ID (smart contract address) (optional)
# Only needed if you've deployed a custom program
# Default uses system program for demonstration
# Can be set directly in environment without adding to .env file
# JUSTTHETIP_PROGRAM_ID=your_solana_program_id_here

# ==========================================
# DATABASE (Optional)
# ==========================================

# MongoDB connection string (OPTIONAL - Advanced features only)
# The bot uses SQLite by default for local storage
# MongoDB is only needed for advanced features like wallet registration persistence
# Format: mongodb://username:password@host:port/database
# MongoDB Atlas: mongodb+srv://username:password@cluster.mongodb.net/justthetip
# Local: mongodb://localhost:27017/justthetip
# Leave unset to use in-memory storage for API features
# MONGODB_URI=mongodb://localhost:27017/justthetip_dev

# PostgreSQL connection string (optional - for advanced features)
# The bot uses SQLite by default for local storage
# PostgreSQL (including Supabase) is needed for production deployments with persistent storage
# 
# Format: postgresql://username:password@host:port/database
# 
# For Supabase (recommended for production):
#   1. Get connection string from: Supabase Dashboard > Project Settings > Database
#   2. Use the "Connection String" (URI format) or "Connection Pooling" string
#   3. Example: postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres
#   4. For connection pooling (recommended): postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:6543/postgres?pgbouncer=true
# 
# For local PostgreSQL: postgresql://localhost:5432/justthetip
# 
# Can be set directly in environment without adding to .env file
# The bot runs in demo mode with SQLite if DATABASE_URL is not set
# DATABASE_URL=postgresql://localhost:5432/justthetip

# Application environment
# Options: development, production, test
# Affects logging, error handling, and security checks
NODE_ENV=development

# ==========================================
# ADMIN CONFIGURATION
# ==========================================

# Comma-separated Discord user IDs with super admin access (optional)
# Get your ID: Enable Developer Mode, right-click yourself, "Copy ID"
# Can be set directly in environment without adding to .env file
# SUPER_ADMIN_USER_IDS=your_discord_user_id_here

# Comma-separated Discord user IDs with admin access (optional)
# Can be set directly in environment without adding to .env file
# ADMIN_USER_IDS=your_discord_user_id_here

# Super admin password for sensitive operations (optional)
# Generate secure password: openssl rand -base64 32
# Can be set directly in environment without adding to .env file
# SUPER_ADMIN_SECRET=your_secure_admin_password

# Emergency admin password for critical operations (optional)
# Should be different from super admin secret
# Can be set directly in environment without adding to .env file
# EMERGENCY_ADMIN_SECRET=your_emergency_admin_password

# ==========================================
# SECURITY WARNING: PRIVATE KEYS
# ==========================================
# ⚠️  NEVER commit private keys to version control
# ⚠️  For PRODUCTION, use secure secrets management:
#     - AWS Secrets Manager
#     - HashiCorp Vault
#     - Azure Key Vault
#     - Google Cloud Secret Manager
# ==========================================

# Solana private key (optional - only for custodial/legacy bot)
# Format: [byte,array,64,bytes,total]
# NOT needed for smart contract bot (recommended mode)
# Can be set directly in environment without adding to .env file
# SOL_PRIVATE_KEY=[]

# ==========================================
# LEGACY CRYPTOCURRENCY SUPPORT
# (No longer actively used - kept for compatibility)
# ==========================================

# All legacy cryptocurrency variables are optional and can be set directly
# in the environment without adding to .env file
# Uncomment and set only if you need legacy cryptocurrency support

# Litecoin wallet private key (WIF format)
# LTC_WALLET_KEY=

# Tron private key (hex format)
# TRX_PRIVATE_KEY=

# Ethereum private key (hex format with 0x prefix)
# ETH_PRIVATE_KEY=

# XRP Ledger seed
# XRP_SEED=

# Ethereum RPC URL (Infura, Alchemy, or local node)
# ETHEREUM_RPC_URL=

# TronGrid API key
# TRON_API_KEY=

# XRP Ledger server URL
# XRP_SERVER=

# Bitcoin private key (WIF format)
# BTC_WIF=

# Bitcoin payment forwarding address
# PAY_FORWARDING_ADDRESS=

# BlockCypher API token
# BLOCKCYPHER_TOKEN=

# ==========================================
# LEGACY OAUTH VARIABLES (Deprecated)
# ==========================================
# The following variables are deprecated and kept for backward compatibility only.
# Use the DISCORD_* prefixed versions defined above instead.

# Legacy: Discord OAuth application ID (use DISCORD_CLIENT_ID instead)
# APPLICATION_ID=

# Legacy: Discord OAuth client secret (use DISCORD_CLIENT_SECRET instead)
# CLIENT_SECRET=

# Legacy: OAuth redirect URI (use DISCORD_REDIRECT_URI instead)
# REDIRECT_URI=

# Legacy: Discord OAuth public key
# PUBLIC_KEY=

# Legacy: Bot invite URL
# INVITE_URL=

# Fee payment Solana address (optional)
# Can be set directly in environment without adding to .env file
# FEE_PAYMENT_SOL_ADDRESS=

# ==========================================
# X402 PAYMENT PROTOCOL (Optional)
# ==========================================

# Treasury wallet address for receiving x402 payments
# This is where USDC payments for premium API access will be sent
# Generate a new wallet for production use
# For devnet testing, use any Solana wallet address
# Get devnet USDC from: https://spl-token-faucet.com/
# X402_TREASURY_WALLET=your_treasury_wallet_address_here

# Note: USDC mint addresses are automatically selected based on SOLANA_CLUSTER
# Devnet: 4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU
# Mainnet: EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v

# ==========================================
# PASSKEY BACKEND (Optional - Rust)
# ==========================================

# Port for the Rust passkey authentication backend
# Default: 3001
# RUST_BACKEND_PORT=3001

# Host to bind the Rust backend to
# Default: 127.0.0.1 (localhost only)
# For production with proxy: use 127.0.0.1
# For direct access: use 0.0.0.0
# RUST_BACKEND_HOST=127.0.0.1

# WebAuthn Relying Party origin (REQUIRED for passkey authentication)
# This must match the domain where users access the registration page
# For local development: http://localhost:3000
# For production: https://yourdomain.com
# Important: No trailing slash, must include protocol (http:// or https://)
# WEBAUTHN_ORIGIN=https://jmenichole.github.io

# Database path for passkey credentials (shared with Node.js)
# Default: db/justthetip.db
# Should match the main database path used by the bot
# DB_PATH=db/justthetip.db
